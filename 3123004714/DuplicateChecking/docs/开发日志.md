## 2025-9-19

- 简单阅读并分析项目作业的要求
- 通过 bilibili、CSDN 等网站，配合 DeepSeek，开始了解论文查重的常见实现方法
- simhash 是一种 局部敏感哈希（LSH, Locality-Sensitive Hashing）算法，它可以把一段任意长度的文本转换成固定长度的二进制数据。如果两端文本很相似，那么他们的 simhash 也会很接近
- 汉明距离：给两串等长的符号（最常见是二进制位），汉明距离就是它们在多少个位置上不同。可以配合 simhash 值来判断两段文字的相似程度

## 2025-9-21

- 创建该日志
- 完成前期的了解工作，正式开始开发
- 编写 PSP



| PSP2.1                                  | Personal Software Process Stages        | 预估耗时（分钟） | 实际耗时（分钟） |
| --------------------------------------- | --------------------------------------- | ---------------- | ---------------- |
| Planning                                | 计划                                    | 20               | 10               |
| · Estimate                              | · 估计这个任务需要多少时间              | 20               | 10               |
| Development                             | 开发                                    | 350              | 320              |
| · Analysis                              | · 需求分析 (包括学习新技术)             | 120              | 60               |
| · Design Spec                           | · 生成设计文档                          | 30               | 30               |
| · Design Review                         | · 设计复审                              | 20               | 10               |
| · Coding Standard                       | · 代码规范 (为目前的开发制定合适的规范) | 20               | 10               |
| · Design                                | · 具体设计                              | 40               | 60               |
| · Coding                                | · 具体编码                              | 90               | 120              |
| · Code Review                           | · 代码复审                              | 30               | 30               |
| · Test                                  | · 测试（自我测试，修改代码，提交修改）  | 60               | 90               |
| Reporting                               | 报告                                    | 80               | 110              |
| · Test Report                           | · 测试报告                              | 40               | 60               |
| · Size Measurement                      | · 计算工作量                            | 20               | 20               |
| · Postmortem & Process Improvement Plan | · 事后总结, 并提出过程改进计划          | 20               | 30               |
|                                         | · 合计                                  | 450              | 440              |

（`实际耗时` 为后期补充）

## 2025-9-22

- 发现 anaconda 无法启动，经检查后发现是由于 `pip` 命令在 `conda` 环境中混用导致的。后使用 `conda` 为该项目新建环境
- 多次返工，完成最初版程序。同步至 github，使用 `jieba` 分词器预处理文本 + simhash 提取 64 位指纹 + 汉明距离计算相似度。
- 加强命令行参数输入的检测，检验路径的有效性
- 完成单元测试

## 2025-9-23

- 使用 `flask8` 完成代码质量检查，发现大多数是代码编写规范

```bash
Error: .\main.py:7:1: E302 expected 2 blank lines, found 1
     .\main.py:17:80: E501 line too long (90 > 79 characters)
     .\main.py:28:5: E303 too many blank lines (2)
     .\main.py:30:1: E302 expected 2 blank lines, found 1
     .\main.py:53:1: E305 expected 2 blank lines after class or function definition, found 1
     .\main.py:54:11: W292 no newline at end of file
     .\src\__init__.py:3:4: W292 no newline at end of file
     .\src\simhash_util.py:12:80: E501 line too long (640 > 79 characters)
     .\src\simhash_util.py:15:1: E302 expected 2 blank lines, found 1
     .\src\simhash_util.py:38:5: E129 visually indented line with same indent as next logical line    
     .\src\simhash_util.py:47:1: E302 expected 2 blank lines, found 1
     .\src\simhash_util.py:93:1: E302 expected 2 blank lines, found 1
     .\src\simhash_util.py:107:1: E302 expected 2 blank lines, found 1
     .\tests\__init__.py:3:4: W292 no newline at end of file
     .\tests\run_tests.py:9:1: E302 expected 2 blank lines, found 1
     .\tests\run_tests.py:34:1: E305 expected 2 blank lines after class or function definition, found 1
     .\tests\run_tests.py:36:24: W292 no newline at end of file
     .\tests\test_similarity.py:5:1: F401 'pytest' imported but unused
     .\tests\test_similarity.py:8:1: E302 expected 2 blank lines, found 1
```

- 生成 `requiremnets.txt`
- 学习 commit message 的 Angular 规范
- 尝试修复 github 的 `contributor` 显示问题

- 使用 cProfile 进行性能分析，发现主要性能瓶颈：
  - jieba 分词器初始化耗时 0.443 秒（占总时间 24%）
  - 文件系统操作（nt.stat）耗时 0.63 秒（占总时间 34%）
  - Simhash 指纹计算耗时 0.072 秒
  - 总计 864,603 次函数调用，总耗时 1.85 秒

- 性能优化：添加 `_initialize_jieba()` 函数确保分词器只初始化一次
  
- 使用 snakeviz 进行性能数据可视化分析

- 使用 pytest-cov 进行覆盖率测试，结果为 100% 覆盖，效果良好
